{% macro render_category(votes, vote_type, show_empty_slots=False) %}
    {% set users = votes[vote_type]() %}
    {% set empty_slots = [votes.sanitized_max_votes - (users|length), 0] | max %}
    {% set more_empty_slots = [votes.sanitized_max_votes_with_not_voted - [votes.sanitized_max_votes, users|length] | max, 0] | max %}

    <div class="mb-3 register-category {{ "fill-entry" if not users }}"
         data-category-name="{{ votes.text }}">
        <div class="fw-bold mb-1 {{ "fill-entry" if not users }}">{{ votes.text }}</div>
        <div class="d-flex flex-column">
            {% for user in users %}
                <div class="alert alert-secondary alert-sm alert-entry mb-1"
                     data-user-id="{{ user.id }}">
                    <span>{{ user.html_display_name }}</span>
                </div>
            {% endfor %}

            {% for _ in range(empty_slots) %}
                <div class="fill-entry alert alert-secondary alert-sm alert-entry mb-1 opacity-50"></div>
            {% endfor %}

            {% for _ in range(more_empty_slots) %}
                <div class="fill-entry alert alert-secondary alert-sm alert-entry mb-1 opacity-50"></div>
            {% endfor %}

            {% if not users and not empty_slots and not more_empty_slots %}
                <div class="fill-entry alert alert-secondary alert-sm alert-entry mb-1 opacity-50"></div>
            {% endif %}
        </div>
    </div>
{% endmacro %}